<!doctype html>
<html>

  <head>
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/LordGnomeMBE/PhotoGrid/main/PhotoGridFavicon.png">
    <title>PhotoGrid by Lord Gnome | View photos in a grid pattern!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Proper Title</title>
    <style>
      p3 {
        font-size: 60px;
      }

      .Imgbox {
        background-color: transparent;
        width: 150px;
        height: 150px;
        float: left;
        border: 2px solid black;
        padding: 5px;
        margin: 10px;
      }

      #selectedFiles img {
        max-width: 150px;
        max-height: 150px;
        float: left;
        margin-bottom: 10px;
      }

      .center {
        margin: auto;
        width: 90%;
        padding: 10px;
      }

    </style>
  </head>

  <body>
    <center>
      <p3><img src="https://raw.githubusercontent.com/LordGnomeMBE/PhotoGrid/main/PhotoGridFavicon_White.png" height="50px" width="50px" style="float:center"> <b>Photo</b>Grid</p3></br>
      <sup style="font-size:20px">By <a href="https://github.com/LordGnomeMBE" style="text-decoration:underline">LordGnomeMBE</a></sup>
      <p style="padding:10px">I found that when I wanted to simply put photos in a grid pattern, all I could find was paid sites, or sites with lots of exstraneous rubbish, so I created PhotoGrid to provide a simple, clean, ad-free way to arrange photos in a grid.</p>
      <p>Screenshot this page to save your photos as a grid. More features are planned for the future. Upload some files to get started.</p>
      </br>
    </center>
    <center>

      <div id="myForm"></div>
      <form id="myForm" method="post" enctype="multipart/form-data">

        <input type="file" id="files" name="files" multiple accept="image/*"> <input type="submit" value="Upload"><br /></br>

        <div class="center">

          <span id="selectedFiles"></span>
        </div>
    </center>
    </form>
    <script>
      var selDiv = "";

      document.addEventListener("DOMContentLoaded", init, false);

      function init() {
        document.querySelector('#files').addEventListener('change', handleFileSelect, false);
        selDiv = document.querySelector("#selectedFiles");
      }

      function handleFileSelect(e) {

        if (!e.target.files || !window.FileReader) return;

        selDiv.innerHTML = "";

        var files = e.target.files;
        var filesArr = Array.prototype.slice.call(files);
        filesArr.forEach(function(f) {
          if (!f.type.match("image.*")) {
            return;
          }

          var reader = new FileReader();
          reader.onload = function(e) {
            var html = "<div class='Imgbox'><img src=\"" + e.target.result + "\">" + "<br clear=\"left\"/></div>";
            selDiv.innerHTML += html;
          }
          reader.readAsDataURL(f);

        });


      }

    </script>

  </body>

</html>
